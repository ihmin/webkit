<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<title>Scroll to text fragment generation - ensure that we don't allow context generation to pass boundaries of block elements</title>
<script>
if (window.testRunner)
    testRunner.dumpAsText();

window.addEventListener('load', () => {
    const range = document.createRange();
    range.setStart(document.getElementById("first").firstChild, 14);
    range.setEnd(document.getElementById("second").firstChild, 4);

    document.body.innerText = internals.textFragmentDirectiveForRange(range).split('#')[1];
});
</script>
</head>
<body><div id="first">This is a one block.</div> And some more text. <div id="second">This is a different block.</body>
</html>

